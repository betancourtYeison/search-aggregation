(this["webpackJsonpsearch-aggregation"]=this["webpackJsonpsearch-aggregation"]||[]).push([[0],{30:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a(17),n=a.n(s),c=a(22),i=(a(40),a(11)),o=a(12),l=function(){function e(t){Object(i.a)(this,e),this.type=void 0,this.type=t}return Object(o.a)(e,[{key:"setType",value:function(e){void 0!==e&&(this.type=e)}}]),e}(),u=function(){function e(t){Object(i.a)(this,e),this.searchType=void 0,this.searchType=new l(t)}return Object(o.a)(e,[{key:"updateType",value:function(e){return this.searchType.setType(e),this.searchType.type||(this.searchType=new l("Google")),this.searchType}}]),e}(),h=new l(""),p="searchType/setType",d=function(e){return{type:p,newType:e}},j=function(e,t){var a=new u(e.type);return a.updateType(t.newType),new l(a.searchType.type)},b={searchType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return j(e,t);default:return e}}},y=a(16),g=a(10),m=a(34),O=a(3),f={searchIcon:"data:image/png;base64,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"},v=a.p+"static/media/logo.5b763d8d.svg",A=(a(30),a(1)),x=function(e){return Object(A.jsx)("div",{className:"site-background",children:e.children})},N=a(35);a(45);function S(e){var t=e.currentPage,a=e.pageSize,r=e.totalPages,s=e.onPage;return Object(A.jsx)(N.a,{pageSize:a,current:t,total:r,onChange:s})}function w(e){var t=e.label,a=e.value,r=e.children;return a?Array.isArray(a)&&!a.length?null:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("strong",{children:t}),": ",r(a)]}):null}function P(e){var t=e.value;return t?Array.isArray(t)&&!t.length?null:Object(A.jsx)("div",{className:"result__searchtype",children:t}):null}function T(e){var t=e.value;return t?Array.isArray(t)&&!t.length?null:Object(A.jsx)("p",{className:"result__description",dangerouslySetInnerHTML:q(t)}):null}function q(e){return{__html:e}}function B(e,t){return e[t]||""}function C(e){var t=e.searchResults;return Object(A.jsx)("ul",{children:t.results.map((function(e,a){return Object(A.jsxs)("li",{className:"result",children:[Object(A.jsxs)("div",{className:"result__header",children:[Object(A.jsx)("a",{className:"result__title",href:B(e,"link"),target:"_blank",rel:"noopener noreferrer",dangerouslySetInnerHTML:q(B(e,"htmlTitle")?B(e,"htmlTitle"):B(e,"name"))}),Object(A.jsx)(P,{value:e.type?e.type:t.requestId})]}),Object(A.jsxs)("div",{className:"result__body",children:[B(e,"pagemap")&&B(e,"pagemap").cse_image&&B(e,"pagemap").cse_image.map((function(e){return Object(A.jsx)("span",{children:Object(A.jsx)("img",{src:e.src,alt:"Dog Icon",className:"search__logo"})},e)})),Object(A.jsx)(T,{value:B(e,"htmlSnippet")?B(e,"htmlSnippet"):B(e,"snippet")})]}),Object(A.jsx)("div",{className:"result__footer",children:Object(A.jsx)("div",{className:"result__owner",children:Object(A.jsx)(w,{label:"Display Link",value:B(e,"displayLink")?B(e,"displayLink"):B(e,"displayUrl"),children:function(e){return Object(A.jsx)("a",{target:"_blank subtle-link",href:e,children:e})}})})})]},"".concat(a))}))})}var F=a(21),I=a(20),_=function(e){Object(F.a)(a,e);var t=Object(I.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo({top:0,behavior:"smooth"})}},{key:"render",value:function(){return this.props.children}}]),a}(r.Component),D=Object(O.e)(_),k=a(33),M=a(23),Q=a.n(M),z="AIzaSyD0TYZy64BY2BNSVdAAk6g1cP1JewwQ_hE",E="d1932306b0169dad9",U="https://www.googleapis.com/customsearch/v1",Y="bde15eaa99d341f098d94dce270b69a5",W="https://api.bing.microsoft.com/v7.0/search",H=function(e){Object(F.a)(a,e);var t=Object(I.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).updateQuery=function(e){r.props.history.push("?"+Q.a.stringify({q:e}))},r.updatePage=function(e,t){r.props.history.push("?"+Q.a.stringify(Object(g.a)(Object(g.a)({},r.getQueryState()),{},{page:e})))},r.parseUrlWithParams=function(e,t){var a=encodeURIComponent,r=Object.keys(t).map((function(e){return a(e)+"="+a(t[e])})).join("&");return"".concat(e,"?").concat(r)},r.setDataFromApi=function(e){var t=e.r,a=e.type,s=r.getQueryState(),n=s.q,c=s.page;r.setState({pageState:{currentPage:isNaN(Number(c))?1:Number(c),pageSize:"Both"===a?20:10,totalPages:Number(t.searchInformation&&t.searchInformation.totalResults?t.searchInformation.totalResults:t.webPages.totalEstimatedMatches)/10,totalResults:Number(t.searchInformation&&t.searchInformation.totalResults?t.searchInformation.totalResults:t.webPages.totalEstimatedMatches)},query:"".concat(n),requestId:a,results:t.items?t.items:t.webPages.value})},r.updateFromQueryState=function(){var e=r.getQueryState(),t=e.q,a=e.page;t=t||"";var s="string"===typeof a?a:1;s=parseInt("".concat(s),10),s=10*(s=isNaN(s)?1:s)-9,r.callApi({query:t,page:s,type:r.props.searchType.type})},r.callApi=Object(k.debounce)((function(e){var t=e.query,a=e.page,s=void 0===a?1:a,n=e.type;if(0!==t.length){if(0===n.length&&r.props.dispatch(d("Google")),"Google"===n){var c={key:z,cx:E,start:s,q:t},i=r.parseUrlWithParams(U,c);return fetch(i).then((function(e){return e.json()})).then((function(e){return r.setDataFromApi({r:e,type:n})})).catch((function(e){return console.error(e)}))}if("Bing"===n){var o={q:t,offset:s},l=r.parseUrlWithParams(W,o);return fetch(l,{headers:new Headers({"Ocp-Apim-Subscription-Key":Y})}).then((function(e){return e.json()})).then((function(e){return r.setDataFromApi({r:e,type:n})})).catch((function(e){return console.error(e)}))}var u={key:z,cx:E,start:s,q:t},h=r.parseUrlWithParams(U,u),p={q:t,offset:s},j=r.parseUrlWithParams(W,p);return Promise.all([fetch(h),fetch(j,{headers:new Headers({"Ocp-Apim-Subscription-Key":Y})})]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){var t=[];e[0].items.forEach((function(a,r){t.push(Object(g.a)(Object(g.a)({},a),{},{type:"Google"})),t.push(Object(g.a)(Object(g.a)({},e[1].webPages.value[r]),{},{type:"Bing"}))}));var a={searchInformation:{totalResults:Number(e[0].searchInformation.totalResults)>Number(e[1].webPages.totalEstimatedMatches)?Number(e[0].searchInformation.totalResults):Number(e[1].webPages.totalEstimatedMatches)},items:t};r.setDataFromApi({r:a,type:n})})).catch((function(e){return console.error(e)}))}r.setState({query:t})}),200),r.getQueryState=function(){return Q.a.parse(r.props.location.search)},r.state={pageState:{currentPage:0,pageSize:10,totalPages:0,totalResults:0},query:"",requestId:"",results:[]},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updateFromQueryState()}},{key:"componentDidUpdate",value:function(e){this.props.location.search===e.location.search&&this.props.searchType.type===e.searchType.type||this.updateFromQueryState()}},{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.pageState,r=t.query,s=t.requestId,n=t.results,c=r?"active-search":"";return e({query:this.getQueryState().q,queryState:this.getQueryState(),queryClass:c,searchActions:{updateFromQueryState:this.updateFromQueryState,updatePage:this.updatePage,updateQuery:this.updateQuery},searchResults:{pageState:a,query:r,requestId:s,results:n}})}}]),a}(r.Component);function V(e){var t=e.currentPage,a=e.pageSize,r=e.totalResults,s=0===r?0:(t-1)*a+1,n=r<=a?r:s+a-1;return Object(A.jsxs)("div",{className:"results__result-count",children:["Showing"," ",Object(A.jsxs)("strong",{children:[s," - ",n]})," ","of ",Object(A.jsx)("strong",{children:r})]})}var L=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return function(e){return e.searchType}(e)}));return Object(A.jsx)(x,{children:Object(A.jsx)(m.a,{children:Object(A.jsx)(D,{children:Object(A.jsx)(O.a,{children:function(a){var r=a.location,s=a.history;return Object(A.jsx)(H,{dispatch:e,searchType:t,location:r,history:s,children:function(a){var r=a.query,s=a.queryClass,n=a.searchActions,c=a.searchResults;return Object(A.jsx)("div",{children:Object(A.jsx)("div",{className:"search live-filtering ".concat(s),children:Object(A.jsxs)("div",{className:"search__content",children:[Object(A.jsxs)("div",{className:"search__header",children:[Object(A.jsxs)("div",{className:"search__headings",children:[Object(A.jsx)("div",{className:"search__logo-wrap",children:Object(A.jsx)("img",{src:v,alt:"Dog Icon",className:"search__logo"})}),Object(A.jsx)("h1",{className:"search__title",children:"Search Aggregation"})]}),Object(A.jsxs)("div",{className:"search__input-wrapper",children:[Object(A.jsx)("a",{href:"#",className:"search__icon-wrap",onClick:function(){return n.updateFromQueryState()},children:Object(A.jsx)("img",{src:f.searchIcon,alt:"Search Icon",className:"search__icon"})}),Object(A.jsx)("input",{className:"search__text-input",placeholder:"Search...",value:r,onChange:function(e){return n.updateQuery(e.target.value)}}),Object(A.jsx)("input",{type:"submit",value:"Search",className:"button search__submit"}),Object(A.jsxs)("div",{className:"dropdown",children:[Object(A.jsxs)("button",{className:"dropbtn",children:[0===t.type.length?"Search by":t.type," ",Object(A.jsx)("span",{className:"caret"})]}),Object(A.jsxs)("div",{className:"dropdown-content",children:[Object(A.jsx)("a",{href:"#",onClick:function(){return e(d("Google"))},children:"Google"}),Object(A.jsx)("a",{href:"#",onClick:function(){return e(d("Bing"))},children:"Bing"}),Object(A.jsx)("a",{href:"#",onClick:function(){return e(d("Both"))},children:"Both"})]})]})]})]}),Object(A.jsx)("div",{className:"search__body",children:Object(A.jsx)("div",{className:"search-results",children:Object(A.jsxs)("div",{className:"results",children:[Object(A.jsxs)("div",{className:"results__header",children:[Object(A.jsx)(V,Object(g.a)({},c.pageState)),Object(A.jsx)("div",{className:"results__powered-by powered-by",children:"Powered By Yeison Betancourt Solis"})]}),Object(A.jsx)("div",{className:"results__body",children:Object(A.jsx)(C,{searchResults:c})}),Object(A.jsx)("div",{className:"results__footer",children:Object(A.jsx)(S,Object(g.a)(Object(g.a)({},c.pageState),{},{onPage:n.updatePage}))})]})})})]})})})}})}})})})})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,63)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))},G=document.getElementById("root"),J=Object(A.jsx)(y.a,{store:Object(c.c)(Object(c.b)(b),c.a.apply(void 0,[])),children:Object(A.jsx)(L,{})});n.a.render(J,G),R()}},[[62,1,2]]]);
//# sourceMappingURL=main.d7066d71.chunk.js.map